# Animated-UI & API Call Project 3 COMP584
### Animation Library: [Animejs - Timeline](https://animejs.com/documentation/#TLParamsInheritance)
### API for content: [Streaming Availability](https://rapidapi.com/movie-of-the-night-movie-of-the-night-default/api/streaming-availability/)
## Function descriptions
- [`start()`](https://github.com/chizuo/Animated-UI/blob/main/script.js#L95) : initializes the start state of the web application. It calls `animate()` to implement Animejs' timeline feature on the banner and start button. After finishing the implementation of timeline on the page, `start` will change the buttons variable from '#button' to 'button'. This reasoning will be explained in the `animation()` portion.
- [`animate()`](https://github.com/chizuo/Animated-UI/blob/main/script.js#L74) : takes the contents of the banner div & letter class to add the [`timeline`](https://animejs.com/documentation/#TLParamsInheritance) animation. The zooming in effect is acomplished by using the scale parameter and the transition from hidden to visble is accomplish by the opacity parameter. The buttons for the web app (2 in total) are targeted by this implementation. But the `#watch` button is hidden and empty until it comes to use. To prevent the `#watch` button to coming into view, I set the button target to be a string interpolation of the variable buttons for the target. On load, the initial state is the #button id but changes to simply button for timeline to target anything with the word button on the html tag.
- [`apiCall()`](https://github.com/chizuo/Animated-UI/blob/main/script.js#L16) : calls on the streaming service using the `api` schema with use of jQuery's `$.ajax()` feature. The response returned is in raw string format so before making use of the response, I pass it to the function `JSON.parse(response)` before making a call to the `format()` function.
- [`format()`](https://github.com/chizuo/Animated-UI/blob/main/script.js#L45) : reshapes the response data to a shape easier to consume and remember. THe response object by the service contains a large amount of data (e.g. imdb links, imdb scores, genre info, multiple urls for posters based on resolution, etc.) and it made sense to create a movie object based on simply my needs for the scope of this project. The aim was to let the unboxing and display of the context to be readable and less convoluted. It also does not require the person reading the code to know the response data shape, simply the movie shape the application intends to use. One the object is reshaped, it is added to an array to be displayed.
- [`streamingInfo()`](https://github.com/chizuo/Animated-UI/blob/main/script.js#L66) : parses the response object to determine what streaming service has the movie being displayed. This function exists to make the unboxing & display portion readable and less convoluted.
- [`display()`](https://github.com/chizuo/Animated-UI/blob/main/script.js#L23) : acts as a recursive loop function where the `#button` acts as the mechanism to iterate through the next movie object in the contents array. This also fascilitates the updates to the DOM, via used of jQuery `.html()` feature, to replace the contents in the given div tags with their corresponding data from the movie object that is unboxed by the function. It then loads the 'click' event listener for the #watch button with an anonymous function that opens a new window to load the URL of the movie. On #button click, the #watch button event listener is removed so when the recursive call is made, the #watch button doesn't have multiple event listeners on it. 
